<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Create OpenStack client environment scripts &mdash; doczhao 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="doczhao 1.0.0 documentation" href="index.html" />
    <link rel="up" title="Keystone Installation Tutorial for Red Hat Enterprise Linux and CentOS" href="index-rdo.html" />
    <link rel="next" title="Keystone Installation Tutorial for Ubuntu" href="index-ubuntu.html" />
    <link rel="prev" title="Verify operation" href="keystone-verify-rdo.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="index-ubuntu.html" title="Keystone Installation Tutorial for Ubuntu"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="keystone-verify-rdo.html" title="Verify operation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">doczhao 1.0.0 documentation</a> &raquo;</li>
          <li><a href="index-rdo.html" accesskey="U">Keystone Installation Tutorial for Red Hat Enterprise Linux and CentOS</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="create-openstack-client-environment-scripts">
<h1>Create OpenStack client environment scripts<a class="headerlink" href="#create-openstack-client-environment-scripts" title="Permalink to this headline">¶</a></h1>
<p>The previous sections used a combination of environment variables and
command options to interact with the Identity service via the
<tt class="docutils literal"><span class="pre">openstack</span></tt> client. To increase efficiency of client operations,
OpenStack supports simple client environment scripts also known as
OpenRC files. These scripts typically contain common options for
all clients, but also support unique options. For more information, see the
<a class="reference external" href="https://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html">OpenStack End User Guide</a>.</p>
<div class="section" id="creating-the-scripts">
<h2>Creating the scripts<a class="headerlink" href="#creating-the-scripts" title="Permalink to this headline">¶</a></h2>
<p>Create client environment scripts for the <tt class="docutils literal"><span class="pre">admin</span></tt> and <tt class="docutils literal"><span class="pre">demo</span></tt>
projects and users. Future portions of this guide reference these
scripts to load appropriate credentials for client operations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The paths of the client environment scripts are unrestricted.
For convenience, you can place the scripts in any location,
however ensure that they are accessible and located in a secure
place appropriate for your deployment, as they do contain sensitive
credentials.</p>
</div>
<ol class="arabic">
<li><p class="first">Create and edit the <tt class="docutils literal"><span class="pre">admin-openrc</span></tt> file and add the following content:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The OpenStack client also supports using a <tt class="docutils literal"><span class="pre">clouds.yaml</span></tt> file.
For more information, see
the <a class="reference external" href="http://docs.openstack.org/os-client-config/latest">os-client-config</a>.</p>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">OS_PROJECT_DOMAIN_NAME</span><span class="o">=</span>Default
<span class="nb">export </span><span class="nv">OS_USER_DOMAIN_NAME</span><span class="o">=</span>Default
<span class="nb">export </span><span class="nv">OS_PROJECT_NAME</span><span class="o">=</span>admin
<span class="nb">export </span><span class="nv">OS_USERNAME</span><span class="o">=</span>admin
<span class="nb">export </span><span class="nv">OS_PASSWORD</span><span class="o">=</span>ADMIN_PASS
<span class="nb">export </span><span class="nv">OS_AUTH_URL</span><span class="o">=</span>http://controller:35357/v3
<span class="nb">export </span><span class="nv">OS_IDENTITY_API_VERSION</span><span class="o">=</span>3
<span class="nb">export </span><span class="nv">OS_IMAGE_API_VERSION</span><span class="o">=</span>2
</pre></div>
</div>
<p>Replace <tt class="docutils literal"><span class="pre">ADMIN_PASS</span></tt> with the password you chose
for the <tt class="docutils literal"><span class="pre">admin</span></tt> user in the Identity service.</p>
</li>
<li><p class="first">Create and edit the <tt class="docutils literal"><span class="pre">demo-openrc</span></tt> file and add the following content:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">OS_PROJECT_DOMAIN_NAME</span><span class="o">=</span>Default
<span class="nb">export </span><span class="nv">OS_USER_DOMAIN_NAME</span><span class="o">=</span>Default
<span class="nb">export </span><span class="nv">OS_PROJECT_NAME</span><span class="o">=</span>demo
<span class="nb">export </span><span class="nv">OS_USERNAME</span><span class="o">=</span>demo
<span class="nb">export </span><span class="nv">OS_PASSWORD</span><span class="o">=</span>DEMO_PASS
<span class="nb">export </span><span class="nv">OS_AUTH_URL</span><span class="o">=</span>http://controller:5000/v3
<span class="nb">export </span><span class="nv">OS_IDENTITY_API_VERSION</span><span class="o">=</span>3
<span class="nb">export </span><span class="nv">OS_IMAGE_API_VERSION</span><span class="o">=</span>2
</pre></div>
</div>
<p>Replace <tt class="docutils literal"><span class="pre">DEMO_PASS</span></tt> with the password you chose
for the <tt class="docutils literal"><span class="pre">demo</span></tt> user in the Identity service.</p>
</li>
</ol>
</div>
<div class="section" id="using-the-scripts">
<h2>Using the scripts<a class="headerlink" href="#using-the-scripts" title="Permalink to this headline">¶</a></h2>
<p>To run clients as a specific project and user, you can simply load
the associated client environment script prior to running them.
For example:</p>
<ol class="arabic">
<li><p class="first">Load the <tt class="docutils literal"><span class="pre">admin-openrc</span></tt> file to populate
environment variables with the location of the Identity service
and the <tt class="docutils literal"><span class="pre">admin</span></tt> project and user credentials:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> . admin-openrc
</pre></div>
</div>
</li>
<li><p class="first">Request an authentication token:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> openstack token issue

<span class="go">+------------+-----------------------------------------------------------------+</span>
<span class="go">| Field      | Value                                                           |</span>
<span class="go">+------------+-----------------------------------------------------------------+</span>
<span class="go">| expires    | 2016-02-12T20:44:35.659723Z                                     |</span>
<span class="go">| id         | gAAAAABWvjYj-Zjfg8WXFaQnUd1DMYTBVrKw4h3fIagi5NoEmh21U72SrRv2trl |</span>
<span class="go">|            | JWFYhLi2_uPR31Igf6A8mH2Rw9kv_bxNo1jbLNPLGzW_u5FC7InFqx0yYtTwa1e |</span>
<span class="go">|            | eq2b0f6-18KZyQhs7F3teAta143kJEWuNEYET-y7u29y0be1_64KYkM7E       |</span>
<span class="go">| project_id | 343d245e850143a096806dfaefa9afdc                                |</span>
<span class="go">| user_id    | ac3377633149401296f6c0d92d79dc16                                |</span>
<span class="go">+------------+-----------------------------------------------------------------+</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Create OpenStack client environment scripts</a><ul>
<li><a class="reference internal" href="#creating-the-scripts">Creating the scripts</a></li>
<li><a class="reference internal" href="#using-the-scripts">Using the scripts</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="keystone-verify-rdo.html"
                        title="previous chapter">Verify operation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="index-ubuntu.html"
                        title="next chapter">Keystone Installation Tutorial for Ubuntu</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/keystone-openrc-rdo.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="index-ubuntu.html" title="Keystone Installation Tutorial for Ubuntu"
             >next</a> |</li>
        <li class="right" >
          <a href="keystone-verify-rdo.html" title="Verify operation"
             >previous</a> |</li>
        <li><a href="index.html">doczhao 1.0.0 documentation</a> &raquo;</li>
          <li><a href="index-rdo.html" >Keystone Installation Tutorial for Red Hat Enterprise Linux and CentOS</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2017, zhaoyuanjie.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>